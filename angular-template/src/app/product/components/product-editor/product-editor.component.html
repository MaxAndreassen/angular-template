<div class="jumbotron m-0 m-xl-4 bg-white">
  <div class="text-center">
    <h1 class="display-4">{{creating ? 'New Product' : 'Edit Product'}}</h1>
    <p class="lead">{{editor?.name}}</p>
    <hr>
  </div>

  <div class="pt-2 pt-md-2">
    <div class="card">
      <form class="m-3">
        <div class="row">
          <div class="form-group col-12 col-sm-6">
            <label class="required-star"
                   for="name">
              <b>Name</b>
            </label>
            <input type="text"
                   name="name"
                   class="form-control"
                   id="name"
                   [(ngModel)]="editor.name">
          </div>
          <div class="form-group col-12 col-sm-6 mb-0">
            <label class="required-star"
                   for="name">
              <b>Price</b>
            </label>
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text">Â£</div>
              </div>
              <input type="number"
                     name="priceInPounds"
                     class="form-control"
                     id="name"
                     [(ngModel)]="editor.priceInPounds">
            </div>
          </div>
          <div class="form-group col-12">
            <label class="required-star"
                   for="description">
              <b>Description</b>
            </label>
            <textarea type="text"
                      name="description"
                      class="form-control"
                      id="description"
                      [(ngModel)]="editor.description"
                      rows="4"> </textarea>
          </div>
          <div class="form-group col-12">
            <app-file-uploader *ngIf="!existingFilesLoading"
                               multiple="true"
                               name="Marketing Media"
                               description="Accepts image and videos"
                               maximum=5
                               image="true"
                               video="true"
                               [existingFiles]="existingMarketingMedia"
                               (uploadsChanged)="updateMarketingMedia($event)"
                               (existingFilesChanged)="updateExistingMarketingMedia($event)"></app-file-uploader>
          </div>
          <div class="form-group col-12">
            <app-file-uploader *ngIf="!existingFilesLoading"
                               name="Cover Image"
                               description="Accepts images"
                               image="true"
                               required="true"
                               [existingFiles]="existingCoverImage"
                               (uploadsChanged)="updateCoverImage($event)"
                               (existingFilesChanged)="updateExistingCoverImage($event)"></app-file-uploader>
          </div>
          <div class="form-group col-12">
            <app-file-uploader *ngIf="!existingFilesLoading"
                               name="Asset Zip"
                               description="Accepts zip files"
                               zip="true"
                               required="true"
                               [existingFiles]="existingAssetZip"
                               (uploadsChanged)="updateAssetZip($event)"
                               (existingFilesChanged)="updateExistingAssetZip($event)"></app-file-uploader>
          </div>
        </div>
        <div>
          <button type="button"
                  class="w-100 d-block d-md-none btn btn-primary"
                  [disabled]="loading"
                  (click)="submit()">{{creating ? 'Submit' : 'Update'}}</button>

          <button type="button"
                  class="d-none d-md-block btn btn-primary"
                  [disabled]="loading"
                  (click)="submit()">{{creating ? 'Submit' : 'Update'}}</button>
        </div>
        <app-loading-spinner *ngIf="loading || submitLoading"></app-loading-spinner>
        <div *ngIf="!validationResult?.valid"
             class="alert alert-danger mt-2"
             role="alert">
          <app-validation-summary [errors]="validationResult?.errors"> </app-validation-summary>
        </div>
        <div *ngIf="successfullyUpdated"
             class="alert alert-success mt-3 mb-0"
             role="alert">
          Successfully Updated.
        </div>
        <div class="progress mt-2" *ngIf="submitLoading">
          <div class="progress-bar" role="progressbar" [style.width]="uploadPercentage +'%'" aria-valuenow="99" aria-valuemin="0" aria-valuemax="100">{{uploadPercentage}}%</div>
        </div>
      </form>
    </div>
  </div>
</div>